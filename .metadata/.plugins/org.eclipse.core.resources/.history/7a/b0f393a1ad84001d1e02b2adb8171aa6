package Pb10;
/**
--- Jour 9 : Pont de singe ---
Ce pont de corde grince lorsque vous marchez dessus. Vous ne savez pas quel âge il a ou s'il peut même supporter votre poids.

Il semble cependant bien supporter les elfes. Le pont enjambe une gorge qui a été creusée par le torrent bien en dessous de vous.

Vous marchez prudemment ; pendant que vous le faites, les cordes s'étirent et se tordent. Vous décidez de vous distraire en modélisant
la physique des cordes ; peut-être que vous pouvez même comprendre où ne pas marcher.

Considérez une corde avec un nœud à chaque extrémité ; ces nœuds marquent la tête et la queue de la corde. Si la tête s'éloigne suffisamment
de la queue, la queue est tirée vers la tête.

En raison d'un raisonnement nébuleux impliquant des longueurs de Planck, vous devriez pouvoir modéliser les positions des nœuds sur une
grille à deux dimensions. Ensuite, en suivant une série hypothétique de mouvements (votre entrée de puzzle) pour la tête, vous pouvez
déterminer comment la queue se déplacera.

En raison des longueurs de Planck susmentionnées, la corde doit être assez courte ; en fait, la tête (H) et la queue (T) doivent toujours
se toucher (diagonalement adjacentes et même se chevauchant, les deux comptent comme se touchant) :

....
.TH.
....

....
.H..
..T.
....

...
.H. (H recouvre T)
...
Si la tête est à deux pas directement vers le haut, le bas, la gauche ou la droite de la queue, la queue doit également se déplacer d'un
pas dans cette direction pour rester suffisamment proche :

.....   .....   .....
.TH.. ->.T.H. ->..TH.
.....   .....   .....

...   ...   ...
.T.   .T.   ...
.H. ->... ->.T.
...   .H.   .H.
...   ...   ...
Sinon, si la tête et la queue ne se touchent pas et ne sont pas dans la même ligne ou colonne, la queue se déplace toujours d'un pas en
diagonale pour suivre :

.....   .....   .....
.....   ..H..   ..H..
..H.. ->..... ->..T..
.T...   .T...   .....
.....   .....   .....

.....   .....   .....
.....   .....   .....
..H.. ->...H. ->..TH.
.T...   .T...   .....
.....   .....   .....
Vous avez juste besoin de déterminer où va la queue pendant que la tête suit une série de mouvements. Supposons que la tête et la queue
commencent toutes les deux à la même position, se chevauchant.

Par exemple:

R 4
U 4
L 3
D 1
R 4
D 1
L 5
R 2
Cette série de mouvements déplace la tête de quatre pas vers la droite, puis vers le haut de quatre pas, puis vers la gauche de trois pas,
puis vers le bas d'un pas, et ainsi de suite. Après chaque étape, vous devrez mettre à jour la position de la queue si l'étape signifie que
la tête n'est plus adjacente à la queue. Visuellement, ces mouvements se produisent comme suit ('s' marque la position de départ comme point
de référence) :

== Initial State ==

......
......
......
......
H.....  (H recouvre T et s)

== R 4 ==

......
......
......
......
TH....  (T recouvre s)

......
......
......
......
sTH...

......
......
......
......
s.TH..

......
......
......
......
s..TH.

== U 4 ==

......
......
......
....H.
s..T..

......
......
....H.
....T.
s.....

......
....H.
....T.
......
s.....

....H.
....T.
......
......
s.....

== L 3 ==

...H..
....T.
......
......
s.....

..HT..
......
......
......
s.....

.HT...
......
......
......
s.....

== D 1 ==

..T...
.H....
......
......
s.....

== R 4 ==

..T...
..H...
......
......
s.....

..T...
...H..
......
......
s.....

......
...TH.
......
......
s.....

......
....TH
......
......
s.....

== D 1 ==

......
....T.
.....H
......
s.....

== L 5 ==

......
....T.
....H.
......
s.....

......
....T.
...H..
......
s.....

......
......
..HT..
......
s.....

......
......
.HT...
......
s.....

......
......
HT....
......
s.....

== R 2 ==

......
......
.H....  (H recouvre T)
......
s.....

......
......
.TH...
......
s.....
Après avoir simulé la corde, vous pouvez compter toutes les positions que la queue a visitées au moins une fois. Dans ce diagramme, 's'marque
à nouveau la position de départ (que la queue a également visitée) et '#' marque les autres positions que la queue a visitées :

..##..
...##.
.####.
....#.
s###..
Donc, il y a 13 positions que la queue a visitées au moins une fois.

Simulez votre série hypothétique complète de mouvements. Combien de positions la queue de la corde visite-t-elle au moins une fois ?

Votre réponse au puzzle était 6470.

--- Deuxième partie ---
Une corde casse ! Soudain, la rivière se rapproche beaucoup plus que vous ne vous en souvenez. Le pont est toujours là, mais certaines des
cordes qui se sont cassées fouettent maintenant vers vous alors que vous tombez dans les airs !

Les cordes se déplacent trop rapidement pour être saisies ; vous n'avez que quelques secondes pour choisir comment cambrer votre corps pour
éviter d'être touché. Heureusement, votre simulation peut être étendue pour supporter des cordes plus longues.

Plutôt que deux nœuds, vous devez maintenant simuler une corde composée de dix nœuds. Un nœud est toujours la tête de la corde et se déplace
selon la série de mouvements. Chaque nœud plus bas sur la corde suit le nœud devant lui en utilisant les mêmes règles qu'auparavant.

En utilisant la même série de mouvements que dans l'exemple ci-dessus, mais avec les nœuds marqués H, 1, 2,..., 9, les mouvements se produisent
maintenant comme suit :

== Initial State ==

......
......
......
......
H.....  (H recouvre 1, 2, 3, 4, 5, 6, 7, 8, 9, s)

== R 4 ==

......
......
......
......
1H....  (1 recouvre 2, 3, 4, 5, 6, 7, 8, 9, s)

......
......
......
......
21H...  (2 recouvre 3, 4, 5, 6, 7, 8, 9, s)

......
......
......
......
321H..  (3 recouvre 4, 5, 6, 7, 8, 9, s)

......
......
......
......
4321H.  (4 recouvre 5, 6, 7, 8, 9, s)

== U 4 ==

......
......
......
....H.
4321..  (4 recouvre 5, 6, 7, 8, 9, s)

......
......
....H.
.4321.
5.....  (5 recouvre 6, 7, 8, 9, s)

......
....H.
....1.
.432..
5.....  (5 recouvre 6, 7, 8, 9, s)

....H.
....1.
..432.
.5....
6.....  (6 recouvre 7, 8, 9, s)

== L 3 ==

...H..
....1.
..432.
.5....
6.....  (6 recouvre 7, 8, 9, s)

..H1..
...2..
..43..
.5....
6.....  (6 recouvre 7, 8, 9, s)

.H1...
...2..
..43..
.5....
6.....  (6 recouvre 7, 8, 9, s)

== D 1 ==

..1...
.H.2..
..43..
.5....
6.....  (6 recouvre 7, 8, 9, s)

== R 4 ==

..1...
..H2..
..43..
.5....
6.....  (6 recouvre 7, 8, 9, s)

..1...
...H..  (H recouvre 2)
..43..
.5....
6.....  (6 recouvre 7, 8, 9, s)

......
...1H.  (1 recouvre 2)
..43..
.5....
6.....  (6 recouvre 7, 8, 9, s)

......
...21H
..43..
.5....
6.....  (6 recouvre 7, 8, 9, s)

== D 1 ==

......
...21.
..43.H
.5....
6.....  (6 recouvre 7, 8, 9, s)

== L 5 ==

......
...21.
..43H.
.5....
6.....  (6 recouvre 7, 8, 9, s)

......
...21.
..4H..  (H recouvre 3)
.5....
6.....  (6 recouvre 7, 8, 9, s)

......
...2..
..H1..  (H recouvre 4; 1 recouvre 3)
.5....
6.....  (6 recouvre 7, 8, 9, s)

......
...2..
.H13..  (1 recouvre 4)
.5....
6.....  (6 recouvre 7, 8, 9, s)

......
......
H123..  (2 recouvre 4)
.5....
6.....  (6 recouvre 7, 8, 9, s)

== R 2 ==

......
......
.H23..  (H recouvre 1; 2 recouvre 4)
.5....
6.....  (6 recouvre 7, 8, 9, s)

......
......
.1H3..  (H recouvre 2, 4)
.5....
6.....  (6 recouvre 7, 8, 9, s)
Maintenant, vous devez garder une trace des positions visitées par la nouvelle queue 9. Dans cet exemple, la queue ne bouge jamais et ne visite
donc que la position 1. Cependant, soyez prudent : plus de types de mouvement sont possibles qu'auparavant, vous voudrez peut-être comparer
visuellement votre corde simulée à celle ci-dessus.

Voici un exemple plus grand :

R 5
U 8
L 8
D 3
R 17
D 10
L 25
U 20
Ces mouvements se produisent comme suit (les étapes individuelles ne sont pas représentées) :

== Initial State ==

..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
...........H..............  (H recouvre 1, 2, 3, 4, 5, 6, 7, 8, 9, s)
..........................
..........................
..........................
..........................
..........................

== R 5 ==

..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
...........54321H.........  (5 recouvre 6, 7, 8, 9, s)
..........................
..........................
..........................
..........................
..........................

== U 8 ==

..........................
..........................
..........................
..........................
..........................
..........................
..........................
................H.........
................1.........
................2.........
................3.........
...............54.........
..............6...........
.............7............
............8.............
...........9..............  (9 recouvre s)
..........................
..........................
..........................
..........................
..........................

== L 8 ==

..........................
..........................
..........................
..........................
..........................
..........................
..........................
........H1234.............
............5.............
............6.............
............7.............
............8.............
............9.............
..........................
..........................
...........s..............
..........................
..........................
..........................
..........................
..........................

== D 3 ==

..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
.........2345.............
........1...6.............
........H...7.............
............8.............
............9.............
..........................
..........................
...........s..............
..........................
..........................
..........................
..........................
..........................

== R 17 ==

..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
................987654321H
..........................
..........................
..........................
..........................
...........s..............
..........................
..........................
..........................
..........................
..........................

== D 10 ==

..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
...........s.........98765
.........................4
.........................3
.........................2
.........................1
.........................H

== L 25 ==

..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
...........s..............
..........................
..........................
..........................
..........................
H123456789................

== U 20 ==

H.........................
1.........................
2.........................
3.........................
4.........................
5.........................
6.........................
7.........................
8.........................
9.........................
..........................
..........................
..........................
..........................
..........................
...........s..............
..........................
..........................
..........................
..........................
..........................

Maintenant, la queue (9) visite les 36positions (y compris s) au moins une fois :

..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
..........................
#.........................
#.............###.........
#............#...#........
.#..........#.....#.......
..#..........#.....#......
...#........#.......#.....
....#......s.........#....
.....#..............#.....
......#............#......
.......#..........#.......
........#........#........
.........########.........
Simulez votre série complète de mouvements sur une corde plus grande avec dix nœuds. Combien de positions la queue de la corde visite-t-elle au
moins une fois ?

Votre réponse au puzzle était 2658.
*/
