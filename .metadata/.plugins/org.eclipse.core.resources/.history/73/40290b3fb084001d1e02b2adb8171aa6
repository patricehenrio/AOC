package Pb10;

import java.io.IOException;

import AOC.AOC;

public class PB10 extends AOC 
{

	private static String[] instructions;
	private static int tick;
	private static int resultat;
	private static int X;
			
	public static void main(String[] args) throws IOException 
	{
		String donnees = chargerDonnees("pb 10.txt");
		instructions = donnees.split("\n");
		//première partie
		System.out.println(partie_1());
		//Deuxième partie
		System.out.println(partie_2());
	}

	private static String partie_2() 
	{
		// TODO Auto-generated method stub
		return null;
	}

	private static int partie_1() 
	{
		X = 1;
		resultat = 0;
		tick = 0;
		for(String s : instructions)
		{
			traiter1(s);
			if (tick > 220) break;
		}
		return resultat;
	}

	private static void traiter1(String s) 
	{
		tick ++;
		arret();
		if (s.startsWith("addx "))
		{
			tick++;
			arret();
			X += Integer.parseInt(s.substring(5));
			return;
		}
		if (s.equals("noop")) return;
		else throw new RuntimeException("opération non valide : " + s);
	}

	private static void arret() 
	{
		if (tick % 40 == 20)
		{
			resultat += X*tick;
		}
	}

}
